var $writelog=require("../libs/logHelper");var $conf=require("../conf/db");var $util=require("../util/util");var mysql=require("mysql");var mysqlQ=mysql.createConnection($conf.mysql);mysqlQ.connect();module.exports={queryStrSql:function(sql,params,callback){if(callback===undefined){callback=params;params=[]}mysqlQ.query(sql,params,function(err,results){if(err!=null){$writelog.helper.writeErr("执行sql发生错误："+sql+"/n 错误信息："+err.stack);callback(err,results);return}callback(err,results)})},queryArrSql:function(sqls,params,callback){if(callback===undefined){callback=params;params=[]}mysqlQ.queries(sqls,params,function(err,results){if(err!=null){$writelog.helper.writeErr("执行sql发生错误："+sqls+"/n 错误信息："+err.stack);callback(err,results);return}callback(err,results)})}};